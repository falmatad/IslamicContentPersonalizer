{"ast":null,"code":"var _jsxFileName = \"/Users/User/Desktop/Development/GitHubFolder/MyReactTemplate/PortfolioProject/ProjectKnowYourLordLikeHashim/client/src/dark/KnowYourLordLikeHashim.jsx\";\nimport React, { Component } from 'react';\nimport ScrollToTop from 'react-scroll-up';\nimport { FiChevronUp } from \"react-icons/fi\";\nimport Helmet from \"../component/common/Helmet\";\nimport PersonalizationForm from \"../elements/contact/PersonalizationForm\";\nimport 'react-image-lightbox/style.css';\nimport { trackPromise } from 'react-promise-tracker';\nimport axios from 'axios';\n\nclass KnowYourLordLikeHashim extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tab1: 0,\n      isOpen: false,\n      quranVideos: [],\n      alAmaanVideos: [],\n      shykJamelVideos: [],\n      islamicUniversityVideos: [],\n      loading: true\n    };\n    this.generateAccountAndContent = this.generateAccountAndContent.bind(this);\n    this.getContent = this.getContent.bind(this);\n    this.generateContentOnly = this.generateContentOnly.bind(this);\n  }\n\n  componentDidMount() {\n    function waitForInstagram() {\n      if (typeof window.instgrm !== \"undefined\") {\n        window.instgrm.Embeds.process();\n      } else {\n        setTimeout(waitForInstagram, 250);\n      }\n    }\n\n    waitForInstagram();\n  }\n\n  getContent(channel, tags) {\n    return trackPromise(axios.get(\"https://like-hashim-backend.herokuapp.com/api/get-channel/\".concat(channel.id)).then(response => {\n      console.log(response);\n      const tempDataArray = [];\n\n      if (channel.type == 'quran') {\n        for (var i = 0; i < response.data.length; i++) {\n          tempDataArray.push({\n            url: \"\".concat(response.data[i].video_id),\n            title: response.data[i].topic !== null ? response.data[i].topic : response.data[i].video_title,\n            postedDate: response.data[i].posted_at\n          });\n        }\n      } else {\n        for (var i = 0; i < response.data.length; i++) {\n          tempDataArray.push({\n            url: \"\".concat(response.data[i].video_id),\n            title: response.data[i].video_title,\n            postedDate: response.data[i].posted_at\n          });\n        }\n      }\n\n      const personalized = tempDataArray.filter(video => {\n        var valid = false;\n\n        if (tags.knowledge) {\n          for (var i = 0; i < tags.knowledge.length; i++) {\n            if (video.title.split(' ').some(operative => operative.replace(/\\W/g, '').toLowerCase() == tags.knowledge[i])) {\n              valid = true;\n            }\n          }\n        } else {\n          for (var i = 0; i < tags.length; i++) {\n            if (video.title.split(' ').some(operative => operative.replace(/\\W/g, '').toLowerCase() == tags[i])) {\n              valid = true;\n            }\n          }\n        }\n\n        return valid;\n      });\n      return personalized;\n    }).catch(error => {\n      if (error) {\n        return error;\n      }\n    }));\n  }\n\n  generateAccountAndContent(channels, tags, user) {\n    const readyData = [];\n\n    for (let i = 0; i < channels.length; i++) {\n      if (channels[i].type == 'knowledge' && tags.knowledge.length) {\n        console.log(tags.knowledge);\n        this.getContent(channels[i], tags.knowledge).then(data => {\n          readyData.push({\n            knowledge: data\n          });\n        }).catch(error => {\n          if (error) {\n            this.setState({\n              success: 'red',\n              alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\n            });\n            console.log(error);\n          }\n        });\n      } else if (channels[i].type == 'quran') {\n        this.getContent(channels[i], tags.heartSoftner).then(data => {\n          readyData.push({\n            quran: data\n          });\n        }).catch(error => {\n          if (error) {\n            this.setState({\n              success: 'red',\n              alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\n            });\n            console.log(error);\n          }\n        });\n      } else {\n        this.getContent(channels[i], tags.heartSoftner).then(data => {\n          readyData.push({\n            heartSoftner: data\n          });\n        }).catch(error => {\n          if (error) {\n            this.setState({\n              success: 'red',\n              alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\n            });\n            console.log(error);\n          }\n        });\n      }\n    }\n\n    readyData.push({\n      user: user\n    });\n    console.log(readyData);\n    axios.post('https://like-hashim-backend.herokuapp.com/api/post-user-and-content', [readyData]).then(response => {\n      console.log(response);\n    });\n    return readyData;\n  }\n\n  generateContentOnly(channels, tags) {\n    for (let i = 0; i < channels.length; i++) {\n      if (channels[i].type == 'knowledge') {\n        this.getContent(channels[i], tags.knowledge).then(data => {\n          console.log(tags.knowledge);\n          this.setState({\n            islamicUniversityVideos: [...data]\n          });\n        }).catch(error => {\n          if (error) {\n            this.setState({\n              success: 'red',\n              alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\n            });\n            console.log(error);\n          }\n        });\n      } else if (channels[i].type == 'quran') {\n        this.getContent(channels[i], tags.heartSoftner).then(data => {\n          this.setState({\n            quranVideos: [...data]\n          });\n        }).catch(error => {\n          if (error) {\n            this.setState({\n              success: 'red',\n              alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\n            });\n            console.log(error);\n          }\n        });\n      } else if (channels[i].type == 'al-amaan') {\n        this.getContent(channels[i], tags.heartSoftner).then(data => {\n          this.setState({\n            alAmaanVideos: [...data]\n          });\n        }).catch(error => {\n          if (error) {\n            this.setState({\n              success: 'red',\n              alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\n            });\n            console.log(error);\n          }\n        });\n      } else if (channels[i].type == 'shyk-jamel') {\n        this.getContent(channels[i], tags.heartSoftner).then(data => {\n          this.setState({\n            shykJamelVideos: [...data],\n            loading: false\n          });\n        }).catch(error => {\n          if (error) {\n            this.setState({\n              success: 'red',\n              alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\n            });\n            console.log(error);\n          }\n        });\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"active-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Helmet, {\n      pageTitle: \"Create a Personalized Feed from your Masjid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"contact\",\n      className: \"fix active-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"rn-contact-area ptb--120 bg_color--1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(PersonalizationForm, {\n      generateContentOnly: this.generateContentOnly,\n      generateAccountAndContent: this.generateAccountAndContent,\n      alAmaanVideos: this.state.alAmaanVideos,\n      islamicUniversityVideos: this.state.islamicUniversityVideos,\n      quranVideos: this.state.quranVideos,\n      shykJamelVideos: this.state.shykJamelVideos,\n      loading: this.state.loading,\n      contactImages: \"/assets/images/about/about-9.jpg\",\n      contactTitle: \"Customized Guidance Program: no matter where you at in life\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"backto-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(ScrollToTop, {\n      showUnder: 160,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(FiChevronUp, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default KnowYourLordLikeHashim;","map":{"version":3,"sources":["/Users/User/Desktop/Development/GitHubFolder/MyReactTemplate/PortfolioProject/ProjectKnowYourLordLikeHashim/client/src/dark/KnowYourLordLikeHashim.jsx"],"names":["React","Component","ScrollToTop","FiChevronUp","Helmet","PersonalizationForm","trackPromise","axios","KnowYourLordLikeHashim","constructor","props","state","tab1","isOpen","quranVideos","alAmaanVideos","shykJamelVideos","islamicUniversityVideos","loading","generateAccountAndContent","bind","getContent","generateContentOnly","componentDidMount","waitForInstagram","window","instgrm","Embeds","process","setTimeout","channel","tags","get","id","then","response","console","log","tempDataArray","type","i","data","length","push","url","video_id","title","topic","video_title","postedDate","posted_at","personalized","filter","video","valid","knowledge","split","some","operative","replace","toLowerCase","catch","error","channels","user","readyData","setState","success","alert","heartSoftner","quran","post","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport ScrollToTop from 'react-scroll-up';\r\nimport { FiChevronUp } from \"react-icons/fi\";\r\nimport Helmet from \"../component/common/Helmet\";\r\nimport PersonalizationForm from \"../elements/contact/PersonalizationForm\";\r\nimport 'react-image-lightbox/style.css';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport axios from 'axios';\r\n\r\nclass KnowYourLordLikeHashim extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tab1: 0,\r\n            isOpen: false,\r\n            quranVideos: [],\r\n            alAmaanVideos: [],\r\n            shykJamelVideos: [],\r\n            islamicUniversityVideos: [],\r\n            loading: true\r\n        };\r\n        this.generateAccountAndContent = this.generateAccountAndContent.bind(this);\r\n        this.getContent = this.getContent.bind(this);\r\n        this.generateContentOnly = this.generateContentOnly.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        function waitForInstagram(){\r\n            if(typeof window.instgrm !== \"undefined\"){\r\n                window.instgrm.Embeds.process();\r\n            }\r\n            else{\r\n                setTimeout(waitForInstagram, 250);\r\n            }\r\n        }\r\n\r\n        waitForInstagram()\r\n    }\r\n\r\n    getContent(channel, tags) { \r\n        return trackPromise(\r\n        axios.get(`https://like-hashim-backend.herokuapp.com/api/get-channel/${channel.id}`\r\n        ).then((response) => {\r\n            console.log(response)\r\n            \r\n            const tempDataArray = []\r\n            if (channel.type == 'quran') {\r\n                for (var i = 0; i < response.data.length; i++) {\r\n                    tempDataArray.push({url: `${response.data[i].video_id}`, title: response.data[i].topic !== null ? response.data[i].topic : response.data[i].video_title, postedDate: response.data[i].posted_at})\r\n                }\r\n            } else {\r\n                for (var i = 0; i < response.data.length; i++) {\r\n                    tempDataArray.push({url: `${response.data[i].video_id}`, title: response.data[i].video_title, postedDate: response.data[i].posted_at})\r\n                }\r\n            }\r\n            \r\n\r\n            const personalized = tempDataArray.filter((video) => {\r\n                var valid = false;\r\n                if (tags.knowledge) {\r\n                    for (var i = 0; i < tags.knowledge.length; i++) {\r\n                        if (video.title.split(' ').some(operative => operative.replace(/\\W/g, '').toLowerCase() == tags.knowledge[i])) {\r\n                            valid = true\r\n                        }\r\n                    }\r\n                } else {\r\n                for (var i = 0; i < tags.length; i++) {\r\n                    if (video.title.split(' ').some(operative => operative.replace(/\\W/g, '').toLowerCase() == tags[i])) {\r\n                        valid = true\r\n                    }\r\n                }\r\n            }\r\n                return valid\r\n            })\r\n            \r\n        return personalized\r\n            \r\n        }).catch((error) => {\r\n            if (error) {\r\n                return error\r\n            }\r\n        }));\r\n    }\r\n\r\n    generateAccountAndContent(channels, tags, user) {\r\n        const readyData = []\r\n\r\n            for (let i=0; i < channels.length; i++) {\r\n                if (channels[i].type == 'knowledge' && tags.knowledge.length) {\r\n                    console.log(tags.knowledge)\r\n                    this.getContent(channels[i], tags.knowledge).then(data => {\r\n                        readyData.push({knowledge: data})\r\n                    }).catch((error) => {\r\n                        if (error) {\r\n                            this.setState({\r\n                                success: 'red', alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\r\n                            })\r\n                            console.log(error)\r\n                        }\r\n                    });\r\n                } else if (channels[i].type == 'quran'){\r\n                    this.getContent(channels[i], tags.heartSoftner).then(data => {\r\n                        readyData.push({quran: data})\r\n                    }).catch((error) => {\r\n                        if (error) {\r\n                            this.setState({\r\n                                success: 'red', alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\r\n                            })\r\n                            console.log(error)\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.getContent(channels[i], tags.heartSoftner).then(data => {\r\n                        readyData.push({heartSoftner: data})\r\n                    }).catch((error) => { \r\n                        if (error) {\r\n                            this.setState({\r\n                                success: 'red', alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\r\n                            })\r\n                            console.log(error)\r\n                        }\r\n                    });\r\n                }\r\n        }\r\n\r\n        readyData.push({user: user})\r\n\r\n        console.log(readyData)\r\n            axios.post('https://like-hashim-backend.herokuapp.com/api/post-user-and-content', [readyData]).then(response => {\r\n                console.log(response)\r\n            })\r\n\r\n        return readyData\r\n    }\r\n\r\n    generateContentOnly(channels, tags) {\r\n        \r\n            for (let i=0; i < channels.length; i++) {\r\n\r\n                if (channels[i].type == 'knowledge') {\r\n                    \r\n                    this.getContent(channels[i], tags.knowledge).then(data => {\r\n                        console.log(tags.knowledge)\r\n                        this.setState({\r\n                            islamicUniversityVideos: [...data]\r\n                        })\r\n                    }).catch((error) => {\r\n                        if (error) {\r\n                            this.setState({\r\n                                success: 'red', alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\r\n                            })\r\n                            console.log(error)\r\n                        }\r\n                    });\r\n                } else if (channels[i].type == 'quran'){\r\n                    this.getContent(channels[i], tags.heartSoftner).then(data => {\r\n                        this.setState({\r\n                            quranVideos: [...data]\r\n                        })\r\n                    }).catch((error) => {\r\n                        if (error) {\r\n                            this.setState({\r\n                                success: 'red', alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\r\n                            })\r\n                            console.log(error)\r\n                        }\r\n                    });\r\n                } else if (channels[i].type == 'al-amaan') {\r\n                    this.getContent(channels[i], tags.heartSoftner).then(data => {\r\n                        this.setState({\r\n                            alAmaanVideos: [...data]\r\n                        })\r\n                    }).catch((error) => {\r\n                        if (error) {\r\n                            this.setState({\r\n                                success: 'red', alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\r\n                            })\r\n                            console.log(error)\r\n                        }\r\n                    });\r\n                } else if (channels[i].type == 'shyk-jamel') {\r\n                    this.getContent(channels[i], tags.heartSoftner).then(data => {\r\n                        this.setState({\r\n                            shykJamelVideos: [...data],\r\n                            loading: false\r\n                        })\r\n                        \r\n                    }).catch((error) => {\r\n                        if (error) {\r\n                            this.setState({\r\n                                success: 'red', alert: \"Woops :[ The form wasn't sent, please refresh and try again or reach out on social media @litatthemasjid\"\r\n                            })\r\n                            console.log(error)\r\n                        }\r\n                    });\r\n                }\r\n        }\r\n        \r\n    }\r\n\r\n    render () {\r\n\r\n        return (\r\n        <div className={\"active-light\"}>\r\n            <Helmet pageTitle=\"Create a Personalized Feed from your Masjid\"/>\r\n            \r\n            <div id=\"contact\" className=\"fix active-dark\">\r\n                <div className=\"rn-contact-area ptb--120 bg_color--1\">\r\n                    <PersonalizationForm generateContentOnly={this.generateContentOnly} generateAccountAndContent={this.generateAccountAndContent} alAmaanVideos={this.state.alAmaanVideos} islamicUniversityVideos={this.state.islamicUniversityVideos} quranVideos={this.state.quranVideos} shykJamelVideos={this.state.shykJamelVideos} loading={this.state.loading}contactImages=\"/assets/images/about/about-9.jpg\" contactTitle=\"Customized Guidance Program: no matter where you at in life\" />\r\n                </div>\r\n            </div>\r\n\r\n            {/* End COntact Area\r\n\r\n            {/* Start Back To Top */}\r\n            <div className=\"backto-top\">\r\n                <ScrollToTop showUnder={160}>\r\n                    <FiChevronUp />\r\n                </ScrollToTop>\r\n            </div>\r\n            {/* End Back To Top */}\r\n            \r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default KnowYourLordLikeHashim;\r\n"]},"metadata":{},"sourceType":"module"}